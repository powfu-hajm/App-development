-- MBTI 16种人格类型详细数据表
-- 用于存储每种类型的详细描述、特点、建议等

DROP TABLE IF EXISTS `mbti_type`;
CREATE TABLE `mbti_type` (
    `id` BIGINT NOT NULL AUTO_INCREMENT,
    `type_code` VARCHAR(4) NOT NULL COMMENT 'MBTI类型代码，如ENTP',
    `type_name` VARCHAR(50) NOT NULL COMMENT '类型中文名称，如辩论家',
    `type_name_en` VARCHAR(50) NOT NULL COMMENT '类型英文名称，如The Debater',
    `type_group` VARCHAR(20) NOT NULL COMMENT '类型分组：分析家/外交家/守护者/探险家',
    `brief_desc` VARCHAR(200) NOT NULL COMMENT '简短描述',
    `detail_desc` TEXT NOT NULL COMMENT '详细描述',
    `strengths` TEXT NOT NULL COMMENT '优势特点，JSON数组格式',
    `weaknesses` TEXT NOT NULL COMMENT '潜在弱点，JSON数组格式',
    `career_suggestions` TEXT COMMENT '职业建议，JSON数组格式',
    `famous_people` TEXT COMMENT '著名人物，JSON数组格式',
    `image_name` VARCHAR(100) COMMENT '图片文件名',
    `color_primary` VARCHAR(20) DEFAULT '#7C4DFF' COMMENT '主题色',
    `color_secondary` VARCHAR(20) DEFAULT '#B388FF' COMMENT '辅助色',
    `create_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
    `update_time` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    `deleted` TINYINT DEFAULT 0,
    PRIMARY KEY (`id`),
    UNIQUE INDEX `idx_type_code` (`type_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='MBTI人格类型表';

-- 插入16种MBTI类型数据

-- ============ 分析家 (Analysts) - NT ============

INSERT INTO `mbti_type` (`type_code`, `type_name`, `type_name_en`, `type_group`, `brief_desc`, `detail_desc`, `strengths`, `weaknesses`, `career_suggestions`, `famous_people`, `image_name`, `color_primary`, `color_secondary`) VALUES
('INTJ', '建筑师', 'The Architect', '分析家',
'富有想象力和战略性的思想家，一切皆在计划之中',
'INTJ是天生的战略家，他们善于制定长期计划并付诸实践。他们独立、果断，对自己的能力充满信心。INTJ追求知识和能力的完善，不断挑战自我。他们重视逻辑和效率，不喜欢浪费时间在无意义的事情上。在工作中，INTJ往往是改革者和创新者，他们能够看到现有系统的缺陷并提出改进方案。',
'["独立思考能力强","战略规划出色","追求卓越和效率","知识渴求强烈","决策果断坚定"]',
'["可能显得冷漠疏离","对他人要求过高","不善于处理情感问题","过于追求完美","社交场合可能不适"]',
'["科学家","工程师","软件架构师","投资分析师","战略顾问"]',
'["埃隆·马斯克","马克·扎克伯格","尼古拉·特斯拉","艾萨克·牛顿"]',
'ic_mbti_intj', '#7C4DFF', '#B388FF'),

('INTP', '逻辑学家', 'The Logician', '分析家',
'具有创造力的发明家，对知识有着止不住的渴望',
'INTP是天生的思想家和理论家。他们热爱分析和理解复杂的概念，常常沉浸在自己的思维世界中。INTP追求逻辑的完美和知识的深度，他们喜欢探索事物的本质和原理。虽然他们可能看起来心不在焉，但实际上他们的大脑一直在高速运转。INTP重视真理胜过和谐，他们会毫不犹豫地指出错误。',
'["逻辑分析能力极强","创造性思维丰富","客观公正","求知欲旺盛","解决复杂问题的能力"]',
'["可能过于理论化","社交技能较弱","容易忽视他人感受","执行力可能不足","容易拖延"]',
'["程序员","数学家","哲学家","研究员","数据科学家"]',
'["爱因斯坦","比尔·盖茨","亚伯拉罕·林肯","达尔文"]',
'ic_mbti_intp', '#7C4DFF', '#B388FF'),

('ENTJ', '指挥官', 'The Commander', '分析家',
'大胆、富有想象力且意志强大的领导者，总能找到或创造解决方法',
'ENTJ是天生的领导者，他们具有强大的意志力和决断力。他们善于组织和指挥，能够有效地调动资源实现目标。ENTJ追求效率和成就，他们不喜欢浪费时间，总是积极主动地推进事情。他们直接、自信，有时可能显得专横，但他们的能力和魅力往往能够说服他人追随。',
'["天生的领导才能","战略眼光长远","决策果断高效","组织能力出色","目标导向强"]',
'["可能显得专横","不善于处理情感","对失败容忍度低","可能忽视他人感受","工作狂倾向"]',
'["CEO","企业家","律师","政治家","管理顾问"]',
'["史蒂夫·乔布斯","玛格丽特·撒切尔","拿破仑","富兰克林·罗斯福"]',
'ic_mbti_entj', '#7C4DFF', '#B388FF'),

('ENTP', '辩论家', 'The Debater', '分析家',
'聪明好奇的思想家，不会放过任何智力上的挑战',
'ENTP是充满灵感的创新者，有动力去寻找新的解决方案来解决具有智力挑战的问题。他们既好奇又聪明，总尝试着理解周围的人、制度和原则。他们思想开放、标新立异，想要分析、理解并影响他人。ENTP喜欢智力游戏，特别喜欢与别人开玩笑。他们凭借自己的机智和对语言的驾驭，在与他人的交往中占得上风。',
'["思维敏捷灵活","创新能力强","善于辩论说服","适应性强","知识面广"]',
'["可能过于争论","容易感到无聊","可能忽视细节","执行力待提高","可能显得不够认真"]',
'["律师","创业者","产品经理","营销策划","发明家"]',
'["本杰明·富兰克林","托马斯·爱迪生","马克·吐温","小罗伯特·唐尼"]',
'ic_mbti_entp', '#7C4DFF', '#B388FF'),

-- ============ 外交家 (Diplomats) - NF ============

('INFJ', '提倡者', 'The Advocate', '外交家',
'安静而神秘，同时鼓舞人心且不知疲倦的理想主义者',
'INFJ是理想主义者中的理想主义者，他们对自己的价值观和信念有着坚定的承诺。他们富有同理心，能够深刻理解他人的感受。INFJ追求意义和目的，他们希望自己的工作能够对世界产生积极影响。虽然他们内向，但他们对帮助他人有着强烈的热情。INFJ是最稀有的人格类型之一。',
'["深刻的洞察力","强烈的价值观","富有同理心","追求意义","创造性思维"]',
'["过于理想化","容易感到疲惫","可能过于敏感","难以敞开心扉","完美主义倾向"]',
'["心理咨询师","作家","人力资源","社会工作者","教师"]',
'["马丁·路德·金","纳尔逊·曼德拉","特蕾莎修女","甘地"]',
'ic_mbti_infj', '#00BFA5', '#64FFDA'),

('INFP', '调停者', 'The Mediator', '外交家',
'诗意、善良的利他主义者，总是热情地为正义事业提供帮助',
'INFP是真正的理想主义者，他们总是寻找在最坏的人和事中发现好的一面，并努力让事情变得更好。他们内心平静，但也充满激情。他们看重真诚和深度，追求有意义的人际关系。INFP具有丰富的想象力和创造力，他们经常通过艺术和写作来表达自己。',
'["富有同情心","创造力丰富","开放包容","追求和谐","忠于价值观"]',
'["可能过于理想化","容易受伤","可能逃避冲突","实际执行力弱","容易自我批评"]',
'["作家","艺术家","心理咨询师","人道主义工作者","音乐家"]',
'["莎士比亚","约翰·列侬","威廉·华兹华斯","奥黛丽·赫本"]',
'ic_mbti_infp', '#00BFA5', '#64FFDA'),

('ENFJ', '主人公', 'The Protagonist', '外交家',
'富有魅力鼓舞人心的领导者，能够使听众着迷',
'ENFJ是天生的领袖，充满激情和魅力。他们善于理解他人，能够有效地激励和引导人们实现共同目标。ENFJ关心他人的成长和幸福，他们愿意付出时间和精力来帮助他人。他们具有出色的沟通能力和组织才能，经常在社区和组织中发挥领导作用。',
'["领导力出色","善于沟通","富有同理心","组织能力强","激励他人"]',
'["可能过于理想化","容易忽视自己的需求","可能过于在意他人看法","决策时可能过于感性","可能过度承诺"]',
'["教师","人力资源经理","公关","政治家","生涯教练"]',
'["奥巴马","奥普拉·温弗里","马丁·路德·金","本·阿弗莱克"]',
'ic_mbti_enfj', '#00BFA5', '#64FFDA'),

('ENFP', '竞选者', 'The Campaigner', '外交家',
'热情、有创造力、社交能力强的自由精神，总能找到理由微笑',
'ENFP是真正的自由精神——外向、开放、随和。他们以热情和活力感染周围的人。他们善于发现可能性，充满创造力和想象力。ENFP喜欢探索新想法和新体验，他们的热情具有感染力。虽然他们很随性，但他们对自己的价值观非常认真。',
'["热情有感染力","创造力丰富","善于沟通","适应性强","乐观积极"]',
'["容易分心","可能过于情绪化","执行力待提高","可能过于理想化","难以专注长期项目"]',
'["演员","记者","市场营销","创业者","公关"]',
'["罗宾·威廉姆斯","威尔·史密斯","罗伯特·唐尼","艾伦·德杰尼勒斯"]',
'ic_mbti_enfp', '#00BFA5', '#64FFDA'),

-- ============ 守护者 (Sentinels) - SJ ============

('ISTJ', '物流师', 'The Logistician', '守护者',
'实际且注重事实的个人，其可靠性是不容置疑的',
'ISTJ是可靠、实际、负责任的人。他们重视传统和忠诚，认真履行自己的职责。ISTJ做事有条理，注重细节，他们喜欢制定计划并按计划行事。他们重视规则和程序，认为这些是社会正常运转的基础。ISTJ是组织中可靠的支柱。',
'["可靠负责","注重细节","组织能力强","诚实正直","意志坚定"]',
'["可能过于固执","不善于表达情感","可能抗拒变化","可能过于挑剔","社交场合可能不适"]',
'["会计师","审计师","项目经理","军人","法官"]',
'["乔治·华盛顿","沃伦·巴菲特","安格拉·默克尔","杰夫·贝佐斯"]',
'ic_mbti_istj', '#FF6F00', '#FFD54F'),

('ISFJ', '守卫者', 'The Defender', '守护者',
'非常专注且温暖的守护者，时刻准备着保护他们爱的人',
'ISFJ是温暖、体贴、可靠的人。他们非常关心他人的感受和需求，愿意付出时间和精力来帮助他人。ISFJ重视和谐和稳定，他们努力维护良好的人际关系。他们记性很好，特别是关于他人的细节。ISFJ是默默付出的无名英雄。',
'["关怀他人","可靠耐心","注重细节","忠诚奉献","实际务实"]',
'["可能过于谦逊","难以接受批评","可能压抑自己的需求","抗拒变化","可能过于敏感"]',
'["护士","教师","社会工作者","行政助理","客服代表"]',
'["碧昂丝","凯特王妃","文森特·梵高","泰勒·斯威夫特"]',
'ic_mbti_isfj', '#FF6F00', '#FFD54F'),

('ESTJ', '执行者', 'The Executive', '守护者',
'出色的管理者，在管理事务或人员方面无与伦比',
'ESTJ是组织者和执行者，他们重视秩序、规则和传统。他们直接、诚实、果断，善于组织人员和资源来完成任务。ESTJ是天生的领导者，他们以身作则，要求自己和他人都达到高标准。他们重视效率和结果，不喜欢浪费时间。',
'["组织能力出色","执行力强","可靠负责","直接坦率","领导才能"]',
'["可能过于固执","不善于处理情感","可能显得专横","抗拒新想法","可能过于追求控制"]',
'["经理","法官","军官","财务总监","校长"]',
'["亨利·福特","米歇尔·奥巴马","约翰·洛克菲勒","艾玛·沃森"]',
'ic_mbti_estj', '#FF6F00', '#FFD54F'),

('ESFJ', '执政官', 'The Consul', '守护者',
'非常关心他人的人，善于社交，总是热心助人',
'ESFJ是热情、关怀、善于社交的人。他们重视和谐与合作，努力创造一个温暖友好的环境。ESFJ善于关注他人的需求，他们是天生的照顾者。他们重视传统和责任，认真履行自己的社会角色。ESFJ是社区的黏合剂。',
'["善于社交","关怀他人","组织能力强","可靠忠诚","实际务实"]',
'["过于在意他人看法","可能过于控制","难以接受批评","可能压抑自己的想法","抗拒变化"]',
'["销售代表","护士","教师","活动策划","人力资源"]',
'["泰勒·斯威夫特","珍妮弗·洛佩兹","休·杰克曼","威廉王子"]',
'ic_mbti_esfj', '#FF6F00', '#FFD54F'),

-- ============ 探险家 (Explorers) - SP ============

('ISTP', '鉴赏家', 'The Virtuoso', '探险家',
'大胆而实际的实验家，善于使用各种形式的工具',
'ISTP是天生的问题解决者，他们善于分析和理解机械系统的运作方式。他们动手能力强，喜欢亲自实践和探索。ISTP冷静、理性，能够在危机情况下保持镇定。他们重视效率和实用性，不喜欢浪费时间在理论上。ISTP是独立的行动者。',
'["动手能力强","冷静理性","问题解决能力","适应性强","实际务实"]',
'["可能显得冷漠","承诺困难","可能过于冒险","不善于表达情感","容易感到无聊"]',
'["工程师","机械师","飞行员","消防员","运动员"]',
'["迈克尔·乔丹","克林特·伊斯特伍德","汤姆·克鲁斯","布鲁斯·李"]',
'ic_mbti_istp', '#FFD600', '#FFFF8D'),

('ISFP', '探险家', 'The Adventurer', '探险家',
'灵活且有魅力的艺术家，时刻准备探索和体验新事物',
'ISFP是温和、敏感、有艺术天赋的人。他们活在当下，享受眼前的美好。ISFP重视自由和个人空间，不喜欢被规则束缚。他们通过行动而非语言来表达对他人的关心。ISFP有很强的审美能力，他们经常通过艺术、音乐或其他创意方式表达自己。',
'["艺术天赋","温和友善","活在当下","灵活适应","审美能力强"]',
'["可能过于敏感","逃避冲突","规划能力弱","可能过于独立","容易低估自己"]',
'["艺术家","设计师","摄影师","兽医","理疗师"]',
'["迈克尔·杰克逊","玛丽莲·梦露","鲍勃·迪伦","大卫·鲍伊"]',
'ic_mbti_isfp', '#FFD600', '#FFFF8D'),

('ESTP', '企业家', 'The Entrepreneur', '探险家',
'聪明、精力充沛且非常有洞察力的人，真正享受生活在边缘',
'ESTP是活力四射、善于交际、爱冒险的人。他们喜欢行动，讨厌等待。ESTP善于察言观色，能够快速评估情况并采取行动。他们精力充沛，喜欢刺激和挑战。ESTP是天生的问题解决者，他们在压力下表现出色。',
'["行动力强","善于社交","适应性强","问题解决能力","勇于冒险"]',
'["可能过于冲动","不善于规划","可能忽视他人感受","注意力难以集中","可能过于物质主义"]',
'["销售","企业家","演员","运动员","营销"]',
'["唐纳德·特朗普","麦当娜","欧内斯特·海明威","杰克·尼科尔森"]',
'ic_mbti_estp', '#FFD600', '#FFFF8D'),

('ESFP', '表演者', 'The Entertainer', '探险家',
'自发的、精力充沛的和热情的表演者——生活在他们周围永不乏味',
'ESFP是热情、友好、爱玩乐的人。他们热爱生活，喜欢成为人们关注的中心。ESFP善于娱乐他人，他们的热情具有感染力。他们活在当下，享受生活的每一刻。ESFP重视实际经验胜过理论知识，他们是天生的表演者。',
'["热情活泼","善于社交","乐观积极","实际务实","感染力强"]',
'["可能过于追求享乐","规划能力弱","可能逃避冲突","注意力难以集中","可能过于敏感"]',
'["演员","销售","活动策划","旅游","公关"]',
'["玛丽莲·梦露","史蒂夫·欧文","贾斯汀·比伯","米莉·赛勒斯"]',
'ic_mbti_esfp', '#FFD600', '#FFFF8D');

-- 更新 test_option 表，添加维度标识
-- 为 MBTI 问卷的选项添加维度信息

ALTER TABLE `test_option` ADD COLUMN `dimension` VARCHAR(10) NULL COMMENT 'MBTI维度标识：E/I/S/N/T/F/J/P' AFTER `score`;

-- 更新 MBTI 选项的维度标识（paper_id = 4）
-- E/I 维度题目 (question_id 55-61)
UPDATE `test_option` SET `dimension` = 'E' WHERE `question_id` IN (55,56,57,58,59,60,61) AND `score` = 1;
UPDATE `test_option` SET `dimension` = 'I' WHERE `question_id` IN (55,56,57,58,59,60,61) AND `score` = 2;

-- S/N 维度题目 (question_id 62-68)
UPDATE `test_option` SET `dimension` = 'S' WHERE `question_id` IN (62,63,64,65,66,67,68) AND `score` = 1;
UPDATE `test_option` SET `dimension` = 'N' WHERE `question_id` IN (62,63,64,65,66,67,68) AND `score` = 2;

-- T/F 维度题目 (question_id 69-75)
UPDATE `test_option` SET `dimension` = 'T' WHERE `question_id` IN (69,70,71,72,73,74,75) AND `score` = 1;
UPDATE `test_option` SET `dimension` = 'F' WHERE `question_id` IN (69,70,71,72,73,74,75) AND `score` = 2;

-- J/P 维度题目 (question_id 76-82)
UPDATE `test_option` SET `dimension` = 'J' WHERE `question_id` IN (76,77,78,79,80,81,82) AND `score` = 1;
UPDATE `test_option` SET `dimension` = 'P' WHERE `question_id` IN (76,77,78,79,80,81,82) AND `score` = 2;
